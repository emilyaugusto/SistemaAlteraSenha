<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel de Suporte – Senha Recebida</title>
  <link rel="icon" href="../imagens/Icon.png">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link href="StyleAdmin.css" rel="stylesheet">
</head>
<body>

  <h1>Painel de Suporte – Última Senha Recebida</h1>

  <div class="senha-box">
    <div class="senha" id="senha">Carregando...</div>
  </div>
  <br />
   <div class="senha-box2">
    <div class="senha2" id="senha2">Carregando...</div>
  </div>
  <br />
  <button onclick="copiarSenha()">Copiar Senha</button>
  <br />

  <img src="../imagens/FeitalLogo.png" alt="Grupo Feital" />

  <script>
  async function carregarSenha() {
    try {
      const resposta = await fetch("/api/senha");
      const data = await resposta.json();
      document.getElementById("senha").innerText = data.senha || "Nenhuma senha disponível";
    } catch (err) {
      document.getElementById("senha").innerText = "Erro ao carregar senha";
    }
  }

  function copiarSenha() {
    const senha = document.getElementById("senha").innerText;
    navigator.clipboard.writeText(senha).then(() => {
      alert("Senha copiada para a área de transferência.");
    });
  }

  carregarSenha();
  setInterval(carregarSenha, 10000);
</script>


</body>
</html>
